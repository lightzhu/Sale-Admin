(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"5/F1":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=n(a("kLXV"));a("+L6B");var i=n(a("2/Rp"));a("y8nQ");var r=n(a("Vl3Y")),d=n(a("jehZ"));a("5NDa");var s=n(a("5rEg")),u=n(a("p0pE")),c=n(a("2Taf")),f=n(a("vZ4D")),p=n(a("l4Ni")),m=n(a("ujKo")),h=n(a("MhPg")),v=l(a("q1tI")),E=a("Hg0r"),g=a("UGL3"),y=function(e){function t(e){var a;return(0,c.default)(this,t),a=(0,p.default)(this,(0,m.default)(t).call(this,e)),a.formLayout={labelCol:{span:7},wrapperCol:{span:17}},a.handleCreat=function(){var e=a.props,t=e.form,l=e.updateShops,n=e.handleCreatVisible,o=e.isShopEdit;t.validateFields(function(e,t){if(!e){var a=(0,u.default)({},t),i=Object.assign(t,{id:localStorage.getItem("id")});console.log(o),o?(0,g.creatShop)(i).then(function(e){console.log(e),"ok"==e.message&&n(!1)}):(0,g.updateShopInfo)(a).then(function(e){"ok"==e.message&&(l(),n(!1))})}})},a.renderContent=function(e){var t=a.props.form,l=t.getFieldDecorator;return[v.default.createElement(r.default.Item,(0,d.default)({key:"name"},a.formLayout,{label:"\u5e97\u94fa\u540d\u79f0"}),l("name",{initialValue:e.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0"}]})(v.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0"}))),v.default.createElement(r.default.Item,(0,d.default)({key:"id"},a.formLayout,{label:"\u5e97\u94fa\u540d\u79f0",style:{display:"none"}}),l("id",{initialValue:e.id})(v.default.createElement(s.default,{placeholder:""}))),v.default.createElement(r.default.Item,(0,d.default)({key:"merchantId"},a.formLayout,{label:"\u7528\u6237ID"}),l("merchantId",{initialValue:e.merchantId,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237ID"}]})(v.default.createElement(s.default,{type:"number",disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237ID"}))),v.default.createElement(r.default.Item,(0,d.default)({key:"shopDesc"},a.formLayout,{label:"\u5e97\u94fa\u63cf\u8ff0"}),l("shopDesc",{initialValue:e.shopDesc,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e97\u94fa\u63cf\u8ff0"}]})(v.default.createElement(s.default.TextArea,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u63cf\u8ff0"})))]},a.renderFooter=function(){var e=a.props.isShopEdit,t=a.props,l=t.handleCreatVisible;t.values;return[v.default.createElement(i.default,{key:"cancel",onClick:function(){return l(!1)}},"\u53d6\u6d88"),v.default.createElement(i.default,{key:"forward",type:"primary",onClick:a.handleCreat},e?"\u786e\u8ba4\u65b0\u589e":"\u786e\u8ba4\u4fee\u6539")]},a.state={currentStep:0},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.creatShopVisible,a=e.handleCreatVisible,l=this.props.shopInfo;return v.default.createElement(o.default,{width:660,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u5e93\u5b58\u57fa\u672c\u4fe1\u606f\u7f16\u8f91",visible:t,footer:this.renderFooter(),onCancel:function(){return a(!1)}},this.renderContent(l))}}]),t}(v.Component);y.defaultProps={handleUpdate:function(){},handleUpdateModalVisible:function(){},values:{}};var b=(0,E.connect)(function(e){var t=e.shop;return{shopInfo:t.shopInfo}})(r.default.create()(y));t.default=b},"9cQA":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=n(a("kLXV"));a("T2oS");var i=n(a("W9HT")),r=n(a("2Taf")),d=n(a("vZ4D")),s=n(a("l4Ni")),u=n(a("ujKo")),c=n(a("MhPg")),f=l(a("q1tI")),p=a("Hg0r"),m=n(a("iWl8")),h=n(a("PDBv")),v=n(a("5/F1")),E=n(a("pmf8")),g=n(a("Ww8N")),y=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,s.default)(this,(0,u.default)(t).call(this,e)),a.reqRef=0,a.handleOk=function(e){var t=a.props.commodity.fileList;console.log(t),a.setState({editPicShow:!1})},a.handleCancel=function(e){a.setState({editPicShow:!1})},a.state={homeData:{},editPicShow:!1,creatShopVisible:!1,isShopEdit:!1},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e&&(this.getShopList(),this.loadHomeSum())}},{key:"getShopList",value:function(){var e=this.props.dispatch;e&&e({type:"shop/fetchShops",payload:{id:window.localStorage.getItem("id")}})}},{key:"loadHomeSum",value:function(){var e=this.props.dispatch;e&&e({type:"home/fetch"})}},{key:"productsMore",value:function(){var e=this.props.dispatch;e({type:"home/getRepertory"})}},{key:"setImageList",value:function(e){var t=this.props.dispatch;t({type:"commodity/saveFileList",payload:e}),this.setState({editPicShow:!0})}},{key:"handleCreatVisible",value:function(e,t){this.setState({creatShopVisible:e}),t?this.setState({isShopEdit:!1}):this.setState({isShopEdit:!0})}},{key:"handleCreatShop",value:function(e){console.log(e)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.reqRef)}},{key:"creatLeft",value:function(e,t,a){if(e){var l=e.map(function(e,l){return 1==t?f.default.createElement("li",{key:l},f.default.createElement("p",null,e.name),f.default.createElement("p",null,f.default.createElement("span",null,a),e.val)):f.default.createElement("li",{key:l},f.default.createElement("p",null,e.name),f.default.createElement("p",null,e.val,f.default.createElement("span",null,a)))});return f.default.createElement("ul",null,l)}}},{key:"render",value:function(){var e=this.props,t=e.home,a=e.shop,l=e.shopsListLoading,n=e.productsListLoading,r=e.ProductsList,d=e.dispatch,s=t.sumMoney,u=t.sumBills,c=a.shopsList;return f.default.createElement("div",{className:g.default.main},f.default.createElement("div",{className:g.default.sumtop},f.default.createElement("h5",null,"\u9500\u552e\u4e1a\u7ee9\u4e00\u89c8"),f.default.createElement("div",{className:g.default.sumcontent},f.default.createElement("div",{className:g.default.topleft},this.creatLeft(s,"1","$")),f.default.createElement("div",{className:g.default.topright},this.creatLeft(u,"2","\u5355")))),f.default.createElement("div",{className:g.default.spin},f.default.createElement(i.default,{spinning:l,size:"large"})),f.default.createElement(o.default,{title:"\u7f16\u8f91\u5546\u54c1\u56fe\u7247",className:g.default.standardListForm,width:660,destroyOnClose:!0,visible:this.state.editPicShow,onOk:this.handleOk,onCancel:this.handleCancel},f.default.createElement(E.default,null)),f.default.createElement(h.default,{shopsList:c,creatShop:this.handleCreatVisible.bind(this),updateShop:this.handleCreatVisible.bind(this),dispatch:d}),f.default.createElement(m.default,{title:"\u6211\u7684\u5e93\u5b58",loading:n,loadMore:this.productsMore.bind(this),setImageList:this.setImageList.bind(this),list:r}),f.default.createElement(v.default,{creatShopVisible:this.state.creatShopVisible,isShopEdit:this.state.isShopEdit,handleCreatVisible:this.handleCreatVisible.bind(this),updateShops:this.getShopList.bind(this)}))}}]),t}(f.default.Component),b=(0,p.connect)(function(e){var t=e.home,a=e.shop,l=e.commodity,n=e.loading;return{home:t,shop:a,commodity:l,shopsListLoading:n.effects["shop/fetchShops"],loading:n.effects["home/fetch"],billLoading:n.effects["home/getBills"],productsListLoading:n.effects["home/getRepertory"]}})(y);t.default=b},PDBv:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("Telt");var o=l(a("Tckk"));a("jCWc");var i=l(a("kPKH"));a("+L6B");var r=l(a("2/Rp"));a("IzEo");var d=l(a("bx4M")),s=a("RBnf"),u=l(a("q1tI")),c=l(a("vZ7W")),f=d.default.Meta,p=function(e){var t=e.shopsList,a=e.creatShop,l=e.updateShop,p=e.dispatch;return u.default.createElement("div",{className:c.default.cardList},u.default.createElement(n.default,{type:"flex",justify:"space-between"},u.default.createElement(i.default,{span:11},u.default.createElement(r.default,{type:"dashed",className:c.default.newButton,onClick:function(){a(!0)}},u.default.createElement(s.PlusOutlined,null)," \u65b0\u589e\u5e97\u94fa")),t.map(function(e,t){return u.default.createElement(i.default,{span:t%2?11:12,key:t},u.default.createElement(d.default,{actions:[u.default.createElement(s.SettingOutlined,{key:"setting"}),u.default.createElement(s.EditOutlined,{key:"edit",onClick:function(){p({type:"shop/fetch",payload:{id:e.id}}),l(!0,!0)}}),u.default.createElement(s.EllipsisOutlined,{key:"ellipsis"})]},u.default.createElement(f,{avatar:u.default.createElement(o.default,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:e.name,description:e.shopDesc}),u.default.createElement("ul",{className:c.default.shopBill},u.default.createElement("li",null,u.default.createElement("span",null,"\u4eca\u65e5\u8ba2\u5355"),u.default.createElement("span",null,e.dayBill)),u.default.createElement("li",null,u.default.createElement("span",null,"\u672c\u5468\u8ba2\u5355"),u.default.createElement("span",null,e.weekBill)),u.default.createElement("li",null,u.default.createElement("span",null,"\u672c\u6708\u8ba2\u5355"),u.default.createElement("span",null,e.monthBill)),u.default.createElement("li",null,u.default.createElement("span",null,"\u672c\u6708\u8425\u4e1a\u989d"),u.default.createElement("span",null,e.monthCount)))))})))},m=p;t.default=m},Ww8N:function(e,t,a){e.exports={main:"antd-pro-pages-home-index-main",spin:"antd-pro-pages-home-index-spin",sumtop:"antd-pro-pages-home-index-sumtop",sumcontent:"antd-pro-pages-home-index-sumcontent",topleft:"antd-pro-pages-home-index-topleft",topright:"antd-pro-pages-home-index-topright"}},iWl8:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cWXX");var o=n(a("/ezw"));a("Mwp2");var i=n(a("VXEj"));a("Telt");var r=n(a("Tckk"));a("Q9mQ");var d=n(a("diRs"));a("+L6B");var s=n(a("2/Rp")),u=n(a("qIgq")),c=l(a("q1tI")),f=a("ArA+"),p=n(a("vZ7W")),m=function(e){var t=e.title,a=e.list,l=e.loading,n=e.loadMore,m=e.setImageList,h=(0,c.useState)(null),v=(0,u.default)(h,2),E=v[0],g=v[1],y=function(e){return e?null:c.default.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},c.default.createElement(s.default,{onClick:n},"loading more"))},b=function(){E&&m(E.imageList)},k=c.default.createElement("div",{className:"tools"},c.default.createElement(s.default,{size:"small",block:!0,onClick:b},"\u7ba1\u7406\u56fe\u7247"),c.default.createElement(s.default,{size:"small",block:!0},"\u5220\u9664\u5546\u54c1"),c.default.createElement(s.default,{size:"small",block:!0,type:"danger"},"\u505c\u552e\u5546\u54c1"));return c.default.createElement("div",{className:p.default.listBox},c.default.createElement("div",{className:p.default.head},c.default.createElement("h5",null,t),c.default.createElement(f.Link,{to:"/commodity/commodity_add"},c.default.createElement(s.default,{type:"primary"},"\u4e0a\u67b6\u5546\u54c1"))),c.default.createElement(i.default,{className:[p.default.list,"felx-list"],loading:l,itemLayout:"horizontal",loadMore:y(l),dataSource:a,renderItem:function(e){return c.default.createElement(i.default.Item,{actions:[c.default.createElement(d.default,{content:k,trigger:"click"},c.default.createElement("a",{key:"list-loadmore-edit",onClick:function(t){t.preventDefault(),g(e)}},"edit")),c.default.createElement("a",{key:"list-loadmore-more"},"more")]},c.default.createElement(o.default,{avatar:!0,title:!1,loading:e.loading,active:!0},c.default.createElement(i.default.Item.Meta,{avatar:c.default.createElement(r.default,{shape:"square",size:"large",src:e.proImg}),title:c.default.createElement("a",{href:"https://i.ebayimg.com/thumbs/images/g/yc4AAOSwQN5ag2m8/s-l225.webp"},e.product)}),c.default.createElement("div",{className:p.default.content},c.default.createElement("span",{className:p.default.amount},e.amount," \u4ef6"),c.default.createElement("span",{className:p.default.status},"(",e.specification,")"))))}}))},h=m;t.default=h},k5A4:function(e,t,a){e.exports={card:"antd-pro-components-edit-pic-index-card",heading:"antd-pro-components-edit-pic-index-heading",steps:"antd-pro-components-edit-pic-index-steps",errorIcon:"antd-pro-components-edit-pic-index-errorIcon",anticon:"antd-pro-components-edit-pic-index-anticon",errorPopover:"antd-pro-components-edit-pic-index-errorPopover",errorListItem:"antd-pro-components-edit-pic-index-errorListItem",errorField:"antd-pro-components-edit-pic-index-errorField",editable:"antd-pro-components-edit-pic-index-editable",advancedForm:"antd-pro-components-edit-pic-index-advancedForm",optional:"antd-pro-components-edit-pic-index-optional"}},pmf8:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("y8nQ");var o=n(a("Vl3Y"));a("2qtc");var i=n(a("kLXV"));a("DZo9");var r=n(a("8z0m"));a("fOrg");var d=n(a("+KLJ"));a("Pwec");var s=n(a("CtXQ")),u=n(a("d6i3")),c=n(a("1l/V")),f=n(a("qIgq")),p=l(a("q1tI")),m=a("Hg0r"),h=n(a("k5A4")),v={labelCol:{span:5},wrapperCol:{span:19}},E=function(e){var t=e.fileList,a=e.dispatch,l=(0,p.useState)(!1),n=(0,f.default)(l,2),m=n[0],E=n[1],g=(0,p.useState)(""),y=(0,f.default)(g,2),b=y[0],k=y[1],L=function(e){return new Promise(function(t,a){var l=new FileReader;l.readAsDataURL(e),l.onload=function(){return t(l.result)},l.onerror=function(e){return a(e)}})},S=function(){return E(!1)},w=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,L(t.originFileObj);case 3:t.preview=e.sent;case 4:E(!0),k(t.url||t.preview);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=p.default.createElement("div",null,p.default.createElement(s.default,{type:"plus"}),p.default.createElement("div",{className:"ant-upload-text"},"Upload")),C=function(e){console.log(e),a&&a({type:"commodity/saveFileList",payload:e.fileList})};return p.default.createElement(p.default.Fragment,null,p.default.createElement(o.default,{layout:"horizontal",className:h.default.stepForm},p.default.createElement(d.default,{closable:!0,showIcon:!0,message:"\u6700\u591a\u53ea\u80fd\u4e0a\u4f205\u5f20\u7167\u7247,\u5305\u62ec\u4ea7\u54c1\u4e3b\u56fe\u3001\u5c3a\u5bf8\u56fe\u53ca\u89c4\u683c\u56fe\u3002",style:{marginBottom:24}}),p.default.createElement("div",{className:"clearfix"},p.default.createElement(r.default,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:t,onPreview:w,onChange:C},t.length>=5?null:x),p.default.createElement(i.default,{visible:m,footer:null,onCancel:S},p.default.createElement("img",{alt:"example",style:{width:"100%"},src:b}))),p.default.createElement(o.default.Item,{style:{marginBottom:8},wrapperCol:{xs:{span:24,offset:0},sm:{span:v.wrapperCol.span,offset:v.labelCol.span}},label:""})))},g=(0,m.connect)(function(e){var t=e.commodity;return{fileList:t.fileList}})(E);t.default=g},vZ7W:function(e,t,a){e.exports={listBox:"antd-pro-pages-home-components-style-listBox",list:"antd-pro-pages-home-components-style-list",content:"antd-pro-pages-home-components-style-content",amount:"antd-pro-pages-home-components-style-amount",head:"antd-pro-pages-home-components-style-head",newButton:"antd-pro-pages-home-components-style-newButton",cardList:"antd-pro-pages-home-components-style-cardList",shopBill:"antd-pro-pages-home-components-style-shopBill"}}}]);